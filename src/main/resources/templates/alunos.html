<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="fragmentos/layout">
<div th:fragment="conteudo">
  <div class="container">
    <h1>Lista de Alunos</h1>

    <table class="table table-dark table-hover">
      <tr>
        <th>ID</th>
        <th>Nome</th>
        <th>Email</th>
        <th>CPF</th>
        <th>Disciplinas matriculadas</th>
        <th>Ações</th>
      </tr>
      <tr th:each="aluno:${alunos}" th:object="${aluno}">
        <td th:text="*{id}">id do aluno</td>
        <td> <a th:href="@{/matricular-aluno(id=*{id})}" th:text="*{nome}">Nome do aluno</a></td>
        <td th:text="*{email}">email do aluno</td>
        <td th:text="*{cpf}">cpf do aluno</td>
        <td>
          <ul th:each="matricula : ${matriculas}" 
              th:if="${matricula.idAluno} == *{id}">
            <li th:each="idDisciplina : ${matricula.disciplinas}">
              <div th:each="disciplina : ${disciplinas}"
                   th:if="${disciplina.id} == ${idDisciplina}" 
                   th:text="${disciplina.nome}">
              </div>
            </li>
          </ul>
        </td>
        <td>
          <a th:href="@{/editar-aluno(id=*{id})}">Editar</a>
          <a th:href="@{/excluir-aluno(id=*{id})}">Excluir</a>
        </td>
      </tr>
    </table>
  </div>
</div>

</html>